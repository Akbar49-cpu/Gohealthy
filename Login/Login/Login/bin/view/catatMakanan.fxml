<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.text.Text?>

<AnchorPane prefHeight="1080.0" prefWidth="1920.0" style="-fx-background-color: #F1FFF1;" stylesheets="@../css/style.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.CatatMakananController">
    <children>
        <Button fx:id="btnKembali" layoutX="23.0" layoutY="22.0" mnemonicParsing="false" onAction="#kembaliKeDashboard" prefHeight="44.0" prefWidth="109.0" styleClass="button-primary" text="Kembali" />
      <TabPane layoutX="278.0" layoutY="103.0" prefHeight="868.0" prefWidth="1514.0" styleClass="tab-hijau" tabClosingPolicy="UNAVAILABLE">
        <tabs>
          <Tab text="Catat Makanan">
            <content>
              <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="839.0" prefWidth="1422.0">
                     <children>
                          <AnchorPane layoutX="366.0" layoutY="7.0" prefHeight="763.0" prefWidth="642.0" style="-fx-background-color: #FFFFFF; -fx-background-radius: 20; -fx-effect: dropshadow(gaussian, rgba(174,212,181,0.6), 12, 0.3, 0, 4);">
                              <Label layoutX="100.0" layoutY="44.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 28px;" text="Catat Makanan mu Hari ini" />           
                              <Label layoutX="100.0" layoutY="496.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-text-fill: rgb(96, 176, 103); -fx-font-size: 15px;" text="Tanggal:" />
                              <DatePicker fx:id="tanggalPicker" layoutX="100.0" layoutY="522.0" prefHeight="0.0" prefWidth="136.0" />
                              <Label layoutX="100.0" layoutY="116.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-text-fill: rgb(96, 176, 103); -fx-font-size: 15px;" text="Waktu Makan:" />
                              <RadioButton fx:id="radioPagi" layoutX="100.0" layoutY="147.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" text="Pagi">
                              <toggleGroup>
                                 <ToggleGroup fx:id="groupWaktu" />
                              </toggleGroup>
                           </RadioButton>
                              <RadioButton fx:id="radioSiang" layoutX="280.0" layoutY="147.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" text="Siang" toggleGroup="$groupWaktu" />
                              <RadioButton fx:id="radioMalam" layoutX="473.0" layoutY="147.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" text="Malam" toggleGroup="$groupWaktu" />
                              <Label layoutX="100.0" layoutY="189.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-text-fill: rgb(96, 176, 103); -fx-font-size: 15px;" text="Makanan 1" />
                              <TextField fx:id="txtMakanan1" layoutX="100.0" layoutY="210.0" prefWidth="200" promptText="Contoh: nasi putih" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <TextField fx:id="txtBerat1" layoutX="320.0" layoutY="210.0" prefWidth="80" promptText="gr" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <TextField fx:id="txtKalori1" editable="false" layoutX="420.0" layoutY="210.0" prefHeight="28.0" prefWidth="116.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <Label layoutX="100.0" layoutY="250.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-text-fill: rgb(96, 176, 103); -fx-font-size: 15px;" text="Makanan 2" />
                              <TextField fx:id="txtMakanan2" layoutX="100.0" layoutY="270.0" prefWidth="200" promptText="Contoh: ayam goreng" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <TextField fx:id="txtBerat2" layoutX="320.0" layoutY="270.0" prefWidth="80" promptText="gr" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <TextField fx:id="txtKalori2" editable="false" layoutX="420.0" layoutY="270.0" prefHeight="28.0" prefWidth="116.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <Label layoutX="100.0" layoutY="310.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-text-fill: rgb(96, 176, 103); -fx-font-size: 15px;" text="Makanan 3" />
                              <TextField fx:id="txtMakanan3" layoutX="100.0" layoutY="330.0" prefWidth="200" promptText="Contoh: sayur bayam" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <TextField fx:id="txtBerat3" layoutX="320.0" layoutY="330.0" prefWidth="80" promptText="gr" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <TextField fx:id="txtKalori3" editable="false" layoutX="420.0" layoutY="330.0" prefHeight="28.0" prefWidth="116.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <Label layoutX="100.0" layoutY="370.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-text-fill: rgb(96, 176, 103); -fx-font-size: 15px;" text="Makanan 4" />
                              <TextField fx:id="txtMakanan4" layoutX="100.0" layoutY="390.0" prefWidth="200" promptText="Contoh: tempe goreng" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <TextField fx:id="txtBerat4" layoutX="320.0" layoutY="390.0" prefWidth="80" promptText="gr" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <TextField fx:id="txtKalori4" editable="false" layoutX="420.0" layoutY="390.0" prefHeight="28.0" prefWidth="116.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <Label layoutX="100.0" layoutY="430.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-text-fill: rgb(96, 176, 103); -fx-font-size: 15px;" text="Makanan 5" />
                              <TextField fx:id="txtMakanan5" layoutX="100.0" layoutY="450.0" prefWidth="200" promptText="Contoh: tahu kukus" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <TextField fx:id="txtBerat5" layoutX="320.0" layoutY="450.0" prefWidth="80" promptText="gr" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <TextField fx:id="txtKalori5" editable="false" layoutX="420.0" layoutY="450.0" prefHeight="28.0" prefWidth="116.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 13px;" />
                              <Button layoutX="100.0" layoutY="580.0" onAction="#hitungKalori" prefHeight="44.0" prefWidth="178.0" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-padding: 8 16; -fx-background-radius: 8; -fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 14px;" text="Hitung Total Kalori" />
                              <Button layoutX="300.0" layoutY="580.0" onAction="#simpanData" prefHeight="44.0" prefWidth="120.0" style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-padding: 8 16; -fx-background-radius: 8; -fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 14px;" text="Simpan Data" />
                              <Label layoutX="100.0" layoutY="640.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-text-fill: black; -fx-font-size: 20px;" text="Total kalori makananmu adalah:" />
                              <Label fx:id="lblTotalKalori" layoutX="100.0" layoutY="671.0" prefHeight="44.0" prefWidth="420" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 42px; -fx-text-fill: #60B067;" text="0.00" />
                           <Label layoutX="320.0" layoutY="189.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-text-fill: rgb(96, 176, 103); -fx-font-size: 15px;" text="Porsi" />
                           <Label layoutX="420.0" layoutY="190.0" style="-fx-font-family: 'Plus Jakarta Sans'; -fx-text-fill: rgb(96, 176, 103); -fx-font-size: 14px;" text="Kalori (otomatis)" />
                          </AnchorPane>
                     </children>
                  </AnchorPane>
            </content>

          </Tab>
          <Tab text="Riwayat">
            <content>
              <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                     <children>
                        <AnchorPane prefHeight="843.0" prefWidth="1514.0">
                           <children>
                              <Button fx:id="btnPerbarui" layoutX="50.0" layoutY="730.0" onAction="#handlePerbarui" prefHeight="31.0" prefWidth="109.0" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-padding: 8 16; -fx-background-radius: 8; -fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 14px;" text="Perbarui" />
                              <TableView fx:id="riwayatKalori" layoutX="50.0" layoutY="41.0" prefHeight="681.0" prefWidth="1400.0" styleClass="header-hijau">
                                <columns>
                                  <TableColumn fx:id="columnTanggal" prefWidth="150.0" text="Tanggal" />
                                  <TableColumn fx:id="columnWaktuMakan" prefWidth="100.0" text="Waktu Makan" />
                                  <TableColumn fx:id="columnMakanan" prefWidth="400.0" text="Makanan" />
                                  <TableColumn fx:id="columnBeratGram" prefWidth="150.0" text="Berat (Gram)" />
                                  <TableColumn fx:id="columnKalori" prefWidth="150.0" text="Kalori" />
                                </columns>
                                 <columnResizePolicy>
                                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                 </columnResizePolicy>
                              </TableView>
                              <Button fx:id="btnHapus" layoutX="171.0" layoutY="730.0" onAction="#handleHapus" prefHeight="31.0" prefWidth="109.0" style="-fx-background-color: B83131; -fx-text-fill: white; -fx-padding: 8 16; -fx-background-radius: 8; -fx-font-family: 'Plus Jakarta Sans'; -fx-font-size: 14px;" text="Hapus" />
                           </children>
                        </AnchorPane>
                     </children>
                  </AnchorPane>
            </content>
          </Tab>
            <Tab fx:id="grafiktotalkalori" text="Grafik">
               <content>
                  <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                     <children>
                        <AnchorPane prefHeight="840.0" prefWidth="1514.0">
                           <children>
                              <LineChart fx:id="grafikTotalKalori" layoutX="72.0" layoutY="185.0" prefHeight="609.0" prefWidth="1346.0" styleClass="line-chart-custom" title="Grafik Total Kalori">
                                <xAxis>
                                  <CategoryAxis side="BOTTOM" />
                                </xAxis>
                                <yAxis>
                                  <NumberAxis side="LEFT" />
                                </yAxis>
                              </LineChart>
                              <ComboBox fx:id="filterPeriode" layoutX="72.0" layoutY="138.0" prefWidth="150.0" styleClass="combo-custom" />
                              <Text layoutX="72.0" layoutY="120.0" strokeType="OUTSIDE" strokeWidth="0.0" styleClass="subtitle" text="Filter Periode" />
                              <Text layoutX="72.0" layoutY="69.0" strokeType="OUTSIDE" strokeWidth="0.0" styleClass="card-title" text="Grafik Total Kalori" />
                              <Text layoutX="1080.0" layoutY="77.0" strokeType="OUTSIDE" strokeWidth="0.0" styleClass="button-primary" text="Statistik" />
                              <Text layoutX="1080.0" layoutY="114.0" strokeType="OUTSIDE" strokeWidth="0.0" styleClass="hyperlink" text="Total Kalori Tertinggi per hari :" />
                              <Label fx:id="kaloriMax" layoutX="1279.0" layoutY="100.0" style="-fx-font-weight: bold; -fx-text-fill: #ff6b6b;" text="0.00 kkal" />
                              <Text layoutX="1079.0" layoutY="138.0" strokeType="OUTSIDE" strokeWidth="0.0" styleClass="hyperlink" text="Total Kalori Terendah per hari :" />
                              <Label fx:id="kaloriMin" layoutX="1280.0" layoutY="125.0" style="-fx-font-weight: bold; -fx-text-fill: #4ecdc4;" text="0.00 kkal" />
                           </children>
                        </AnchorPane>
                     </children>
                  </AnchorPane>
               </content>
            </Tab>
        </tabs>
      </TabPane>
      <ImageView fitHeight="247.0" fitWidth="1923.0" layoutY="910.0" pickOnBounds="true" preserveRatio="true">
         <image>
            <Image url="@../assets/i.png" />
         </image>
      </ImageView>
    </children>
</AnchorPane>
